<div class="fci-onboard-header">
  <div fci-grid class="fci-onboard-welcome">
    <div fci-cell="12">
      <div class="fci-onboard-title">Welcome to fastlane.ci!</div>
      <div class="fci-onboard-subtitle">
        Open source, self-hosted, mobile-optimized CI powered by fastlane brought to you by the fastlane team.
      </div>
      <button mat-raised-button color="primary" (click)="goToOldOnboarding()">Old Onboarding</button>
    </div>
  </div>
</div>
<div fci-grid>
  <div fci-cell="12">
    <h6>NOT WORKING - CURRENTLY IN DEVELOPMENT</h6>
    <mat-spinner *ngIf="!configuredSections" mode="indeterminate"></mat-spinner>
    <mat-vertical-stepper #stepper linear *ngIf="configuredSections">
      <mat-step label="Set up your Encryption Key" editable="false" [completed]="configuredSections.encryptionKey">
        <form [formGroup]="encryptionKeyForm" (ngSubmit)="setEncryptionKey()">
          <p>
            <b>fastlane.ci</b> uses an encryption key to encrypt your API tokens and passwords written out to the private
            <b>fastlane.ci</b>
            configuration repository generated at the end of onboarding.</p>
          <div class="fci-input-container">
            <label>CI encryption key</label>
            <input formControlName="encryptionKey" placeholder="my-encryption-key" type="password">
          </div>
          <div class="fci-step-button-container">
            <button mat-button mat-raised-button color="primary" type="submit" [disabled]="!encryptionKeyForm.valid || isSettingEncryptionKey">Set</button>
            <mat-spinner *ngIf="isSettingEncryptionKey" mode="indeterminate" diameter="20"></mat-spinner>
          </div>
        </form>
      </mat-step>
      <mat-step label="Set Up your OAuth App" editable="false" [completed]="configuredSections.oAuth">
        <p>
          <b>IN DEVELOPMENT</b>
        </p>
      </mat-step>
      <mat-step label="Create private repository for ci-config" editable="false" [completed]="configuredSections.configRepo">
        <p>
          <b>IN DEVELOPMENT - </b>Need to login with github</p>
      </mat-step>
    </mat-vertical-stepper>
  </div>
</div>
